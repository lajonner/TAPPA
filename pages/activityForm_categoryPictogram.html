<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="">
        <link href="../bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
        <link href="../bower_components/metisMenu/dist/metisMenu.min.css" rel="stylesheet">
        <link href="../dist/css/timeline.css" rel="stylesheet">
        <link href="../dist/css/sb-admin-2.css" rel="stylesheet">
        <link href="../bower_components/morrisjs/morris.css" rel="stylesheet">
        <link href="../bower_components/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <script type="text/javascript" charset="utf-8" src="../js/jquery.min.js"></script>
        <script type="text/javascript" charset="utf-8" src="../js/cordova-2.2.0.js"></script>
        <script type<script type="text/javascript" charset="utf-8" src="../js/db.js"></script>
       <script type<script type="text/javascript" charset="utf-8" src="../js/categoryPictogram.js"></script>
        <script type="text/javascript" charset="utf-8" src="../js/activityController.js"></script>
        <script type="text/javascript" charset="utf-8"> </script> 
          <script>          
          var vars=getVars(document);
          function exitActivity(){
            location.href="../pages/activitySearch_categoryPictogram.html";
          }
          var action=vars["action"];
          function isValidateFields(){
             var fld_name = document.getElementById("fld_name");
              var name = fld_name.value;
              if (name==null){
                 alert("Campo Nombre no puede estar vacio.VERIFIQUE!");
                fld_name.focus();
                 return false;
              }
              if (name.trim().length<=0){
                 alert("Campo Nombre no puede contener solo espacios en blanco.VERIFIQUE!");
                 fld_name.focus();
                 return false;
              }
              return true;
          }
          function saveRecord(){
            switch(action){
              case "1":
                if (isValidateFields()){
                  var name = document.getElementById("fld_name").value;
                  insertDB("PICTOGRAM_CATEGORY",{"name":name});
                  alert("Registro creado con éxito");
                  exitActivity();
                }
              break;
             case "2":
              if (isValidateFields()){
                 var name = document.getElementById("fld_name").value;
                var id=Number(vars["id"]);
                updateDB("PICTOGRAM_CATEGORY",id,{"name":name});
                alert("Registro actualizado con éxito");
                exitActivity();
              }
              break;               
            }          
          }
          </script>
  </head> 
   <body>
      <div id="wrapper">
        <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">
            <div class="navbar-header">                
                <a class="navbar-brand" >Categoría</a>                
           
            </div>
            <ul class="nav navbar-top-links navbar-right">         
                                                               
            </ul>         
            

            <div class="navbar-default sidebar" role="navigation">
                <div class="sidebar-nav navbar-collapse">
                    <ul class="nav" id="side-menu">                       
                        
                        <li class="active">
                            <a href="#"><i class="fa fa-files-o fa-fw"></i>Menú<span class="fa arrow"></span></a>
                            <ul class="nav nav-second-level collapse in">
                              <li>
                                <li><a href="#" onclick="saveRecord()">Grabar</a></li>
       <li><a href="#" onclick="exitActivity()">Salir</a></li> 
                               </li>
                            </ul>
                        </li>


                    </ul>
                </div>
            </div>

        </nav>

        <div id="page-wrapper">         
            
           <div class="col-lg-6">

   

    <div class="form-group">
                                            <label>Nombre</label>
                                            <input class="form-control" id="fld_name">
                                            <p class="help-block">Nombre de Categoría</p>
                                        </div>   
                                      </div>
      </div>       
        </div>
     <script src="../bower_components/jquery/dist/jquery.min.js"></script>
     <script src="../bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
      <script src="../bower_components/metisMenu/dist/metisMenu.min.js"></script>
    <script src="../bower_components/raphael/raphael-min.js"></script>
    <script src="../bower_components/morrisjs/morris.min.js"></script>
    <script src="../dist/js/sb-admin-2.js"></script>
     <script>          
          var vars=getVars(document);
          var action=vars["action"];
         switch(action){
            case "2":
var id=Number(vars["id"]);
                loadCategoryPictogramForm(dbObject,id);
            break;
         }
    </script>
  </body>

</html>